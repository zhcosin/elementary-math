
\section{向量}
\label{sec:vector}

\subsection{向量概念及运算}
\label{sec:vector-and-its-operation}


物理学上有一类物理量，不但有大小，还有方向，例如力、位移、动量，它们有一些共同的运算法则，在数学上解决一些几何问题时，引入带正负符号的线段，有时更是引入有向线段也会使问题更易于表达，在此基础上抽象出一个数学模型便称为向量。

\begin{definition}
  既有大小也有方向的量称为 \emph{向量}，也称为 \emph{矢量}，向量的大小也称为它的\emph{模}。
\end{definition}

向量可以用有向线段来表示，此时有向线段的长度就代表它的大小，它的方向就代表向量的方向，向量用粗体符号$\bm \alpha, \bm \beta, \bm \gamma, \ldots$来表示，手写体可以用带箭头的字母来表示$\vv{a}, \vv{b},\vv{c},\ldots$，在用有向线段表示时，也用它的起点和终点表示成$\vv{AB}$，其中$A$是有向线段的起点，而$B$是有向线段的终点。

向量没有位置的概念，把一个有向线段的起点和终点移动到任何别的地方，只要新的有向线段的长度与原来相等，而方向与原来相同，则两个有向量线段代表的是同一个向量。今后对有向线段和向量不进行严格区分。

向量的模借用绝对值记号，如$|\bm \alpha|,|\vv{a}|,|\vv{AB}|$.

\begin{definition}
大小为1的向量称为\emph{单位向量}，单位向量用$\bm{e}$表示，大小为零的向量称为\emph{零向量}，记作$\bm{0}$，零向量的方向没有实际意义，在具体问题中可以作灵活约定。
\end{definition}

\begin{definition}
  方向相同或相反的向量称为 \emph{共线向量}，约定零向量与任意向量共线，两个向量$\bm{\alpha}$及$\bm{\beta}$共线记作$\bm{\alpha} \parallel \bm{\beta}$. 如果两个向量的大小相等，方向相同，则称这两个向量相等，记作$\bm{\alpha}=\bm{\beta}$。大小相同，方向相反的两个向量互为\emph{相反向量}.
\end{definition}

注意共线向量只是就两个向量的方向而言，并不是说代表两个向量的两个有向线段在同一直线上，当然，同一直线上的两个有向线段代表的两个向量必然共线。

\begin{definition}
  对于空间中的多个向量，如果通过平移使得它们的起点相同时，起点与所有的终在同一平面内，则称这些向量是\emph{共面向量}。否则便称它们不共面。
\end{definition}

对于两个向量，还可以引入夹角概念:
\begin{definition}
  通过平移使得两个向量$\bm{\alpha}$和$\bm{\beta}$起点相同，此时两个向量所在两条射线的夹角便称为这两个向量的 \emph{夹角}，记作$<\bm{\alpha},\bm{\beta}>$，其取值范围是$[0,\pi]$，夹角为直角的两个向量称为互相 \emph{垂直}，记作$\bm{\alpha} \perp \bm{\beta}$.
\end{definition}

显然，两个共线向量的夹角是0或者$\pi$(不考虑零向量)。

\begin{definition}
两个向量可以进行相加，通过平移使得第二个向量的起点与第一个向量的终点重合，这时由第一个向量的起点为起点并以第二个向量的终点为终点的向量，便称为这两个向量的和，即$\vv{AB}+\vv{BC}=\vv{AC}$.
\end{definition}

将这法则用有向线段画出来，便是一个三角形，所以这个定义称为向量加法的三角形法则，向量加法也可以使用平行四边形法则，即让两个向量的起点重合，以这两个有向线段为邻边作平行四边形(若两个向量是共线的，则这是一个压扁退化的平行四边形)，则由共同的起点指向平行四边形另一对角顶点所得向量即代表它俩的和，显然这与三角形法则是等价的。

不难验证，向量加法符合交换律和结合律，即
\begin{eqnarray*}
  \bm{\alpha} + \bm{\beta} & = & \bm{\beta}+\bm{\alpha} \\
  ( \bm{\alpha} + \bm{\beta} ) + \bm{\gamma} & = & \alpha + (\bm{\beta} + \bm{\gamma})
\end{eqnarray*}

类比于数，将$\bm{\alpha}+\bm{\alpha}$记为$2\bm{\alpha}$，由此引出实数与向量的乘法运算，这运算定义如下
\begin{definition}
  实数$\lambda$与向量$\bm{\alpha}$的乘积也是一个向量，记为$\lambda \bm{\alpha}$，它的大小是$|\lambda \bm{\alpha}| = |\lambda| |\bm{\alpha}|$，它的方向在$\lambda>0$的情况下与$\bm{\alpha}$相同，在$\lambda<0$的情况下与$\bm{\alpha}$相反，在$\lambda=0$时，$0\bm{\alpha} = \bm{0}$是零向量。
\end{definition}

由定义，一个向量$\bm{\alpha}$的相反向量是$(-1)\bm{\alpha}$，简记为$-\bm{\alpha}$，即$\bm{\alpha}+(-\bm{\alpha})=\bm{0}$.

不难得到，数与向量的乘法运算满足两种形式的分配律以及对实数的结合律
\begin{eqnarray*}
  (\lambda + \mu) \bm{\alpha} & = & \lambda \bm{\alpha} + \mu \bm{\alpha} \\
  \lambda (\bm{\alpha} + \bm{\beta}) & = & \lambda \bm{\alpha} + \lambda \bm{\beta} \\
  \lambda (\mu) \bm{\alpha} & = & (\lambda \mu) \bm{\alpha}
\end{eqnarray*}

在此基础上可以定义向量的减法
\begin{definition}
  向量$\bm{\alpha}$与向量$\bm{\beta}$的差定义为向量$\bm{\alpha}$与向量$\bm{\beta}$的相反向量相加，即$\bm{\alpha}-\bm{\beta}=\bm{\alpha}+(-\bm{\beta})$.
\end{definition}

向量减法也有明确的几何意义，因为$\vv{AB}-\vv{AC}=\vv{AB}+(-\vv{AC})=\vv{AB}+\vv{CA}=\vv{CA}+\vv{AB}=\vv{CB}$，因此，只要让两个向量的起点重合，由减向量的终点指向被减向量的终点所得向量即是它们的差，这就是向量减法的三角形法则，显然，任意向量减去它自身，所得差为零向量。

不难看出，对于两个向量构成的平行四边形中，两条对角形所代表的向量，便分别是它们的和与差所代表的向量，后文将由此得出一个平行四边形的性质，显然，两个向量的和向量与差向量，与原来的两个向量共面。

而对于空间中的三个向量相加，很容易把平行四边形法则推广为平行六面体法则，即让三个向量的起点相同，以这三个向量为邻边作平行六面体，则以共同起点到对角顶点的向量就代表它们的和向量。

关于向量共线的一条重要结果是
\begin{theorem}[向量共线定理]
  \label{theorem:collinear-vector}
  向量$\bm{\alpha}$与非零向量$\bm{\beta}$共线的充分必要条件是存在唯一实数$\lambda$，使得$\bm{\alpha}=\lambda \bm{\beta}$.
\end{theorem}

\begin{proof}[证明]
 充分性可由实数与向量乘法的定义得到，下证必要性，若向量$\bm{\alpha}$与非零向量$\bm{\beta}$共线，如果$\bm{\alpha}$为零向量，则$\lambda=0$就符合要求，在$\bm{\alpha}$为非零向量的情况下，根据共线的定义，$\bm{\alpha}$与$\bm{\beta}$的方向相同或相反，取实数$\lambda$满足$|\lambda| = \dfrac{|\alpha|}{|\beta|}$，并根据方向相反还是相反来取定其符号，则显然有$\bm{\alpha} = \lambda \bm{\beta}$，又若还存在另一实数$\mu$使得$\bm{\alpha}=\mu \bm{\beta}$，则有$(\lambda - \mu)\bm{\beta}=\bm{0}$，而$\bm{\beta}$是非零向量，根据数与向量的乘法定义，这必须$\lambda=\mu$。
\end{proof}


\subsection{向量的分解定理}
\label{sec:decompose-of-vector}
对于三个共面向量$\bm{\alpha}$,$\bm{\beta}$,$\bm{\gamma}$，通过平移使它们的起点重合，并记共同起点为$O$以及$\vv{OA}=\bm{\alpha}$,$\vv{OB}=\bm{\beta}$,$\vv{OC}=\bm{\gamma}$，若$\bm{\alpha}$与$\bm{\beta}$不共线，则过$\bm{\gamma}$的终点$C$分别作直线$OB$与$OA$的平行线，分别与直线$OA$及$OB$相交于$M$和$N$，则显然$\vv{OM}$与$\bm{\alpha}$共线，$\vv{ON}$与$\bm{\beta}$共线，于是由\autoref{theorem:collinear-vector}，存在唯一的一对实数$(\lambda,\mu)$，使得$\vv{OM}=\lambda \bm{\alpha}$以及$\vv{ON}=\mu \bm{\beta}$，于是$\bm{\gamma}=\vv{OM}+\vv{ON}=\lambda \bm{\alpha} + \mu \bm{\beta}$，这便得出如下的共面向量分解定理
\begin{theorem}[共面向量分解定理]
  \label{theorem:coplanar-vector}
 设向量$\bm{\alpha}$与向量$\bm{\beta}$不共线，则对于空间中任一向量$\gamma$，它能与$\bm{\alpha}$、$\bm{\beta}$ 共面的充分必要条件是，存在唯一的一对实数$\lambda$和$\mu$，使得$\bm{\gamma}=\lambda \bm{\alpha} + \mu \bm{\beta}$.
\end{theorem}

\begin{proof}[证明]
  对于必要性，其中实数对的存在性已经由上面的推导得出，假若还有另一对实数$u$和$v$使得$\bm{\gamma}=u \bm{\alpha} + v \bm{\beta}$，便有$(\lambda-u)\bm{\alpha}+(\mu-v)\bm{\beta}=\bm{0}$，即$(\lambda-u)\bm{\alpha}=-(\mu-v)\bm{\beta}$，若是$\lambda \neq u$，那么便能得出$\bm{\alpha}$与$\bm{\beta}$共线，定理条件矛盾，因此$\lambda=u$，同时由这等式便有$\mu=v$，因此实数对是唯一的。

  再证充分性，如若$\bm{\gamma}=\lambda \bm{\alpha} + \mu \bm{\beta}$，则显然向量$\lambda \bm{\alpha}$与$\bm{\alpha}$共线，向量$\mu \bm{\beta}$与$\bm{\beta}$共线，于是按平行四边形法则，$\lambda \bm{\alpha}+\mu \bm{\beta}$在$\bm{\alpha}$与$\bm{\beta}$所在平面内。
\end{proof}

与之相仿的，还有空间向量分解定理
\begin{theorem}[空间向量分解定理]
  \label{theorem:space-vector-decompose}
  设$\bm{\alpha}$、$\bm{\beta}$、$\bm{\gamma}$是空间中三个不共面的向量，则对于空间中任一向量$\bm{\delta}$，存在唯一的实数三元组$(\lambda, \mu, \nu)$，使得$\bm{\delta}=\lambda \bm{\alpha} + \mu \bm{\beta} + \nu \bm{\gamma}$.
\end{theorem}

\begin{proof}[证明]
  仍然通过平移使这些向量的起点都是点$O$，记$\bm{\alpha}=\vv{OA}$，$\bm{\beta}=\vv{OB}$，$\bm{\gamma}=\vv{OC}$，$\bm{\delta}=\vv{OD}$，过点$D$作平面$BOC$的平行平面并与直线$OA$相交于$M$，过$D$作平面$COA$的平行平面与$OB$交于$N$，再过$D$作平面$AOB$的平行平面交$OC$于$P$，再以$OM$和$ON$为边作平行四边形$OMQN$，则$\vv{OD}=\vv{OQ}+\vv{QD}$，由\autoref{theorem:coplanar-vector}，存在唯一实数对$\lambda$和$\mu$，使得$\vv{OQ}=\lambda \vv{OA} + \mu \vv{OB}$，而由辅助线作法知新作的三个平面与三个向量两两决定的三个平面决定了一个平行六面体，而$\vv{QD}$与$\vv{OP}$正好是一组对棱，所以$\vv{QD}=\vv{OP}$，而由\autoref{theorem:collinear-vector}，存在唯一实数$\nu$，使得$\vv{OP}=\nu \vv{OC}$，于是$\bm{\delta} = \vv{OD} = \vv{OM}+\vv{ON}+\vv{OD}=\lambda \bm{\alpha} + \mu \bm{\beta} + \nu \bm{\gamma}$，存在性得证。

  若是还存在另一组实数$u$、$v$、$w$使得$\bm{\delta} = u \bm{\alpha} + v \bm{\beta} + w \bm{\gamma}$，则有$(\lambda-u)\bm{\alpha}+(\mu-v)\bm{\beta}+(\nu-w)\bm{\gamma}=0$，若是$\lambda \neq u$，便得出$\bm{\alpha}$与$\bm{\beta}$、$\bm{\gamma}$共面，这与定理条件矛盾，所以$\lambda = u$，进一步类似的方法得出$\mu =v$和$\nu=w$.
\end{proof}


\subsection{向量的坐标表示}
\label{sec:codrnation-of-vector}

取定从同一点$O$(称为原点)出发，沿三个不共面方向的单位向量$\bm{e}_1$、$\bm{e}_2$、$\bm{e}_3$，称为一组\emph{基底}，简称基，则空间中任一向量$\bm{\alpha}$都有唯一分解式$\bm{\alpha}=x\bm{e}_1+y\bm{e}_2+z\bm{e}_3$，将三元数组$(x,y,z)$称为向量$\bm{\alpha}$在在这组基下的\emph{坐标}，记作$\bm{\alpha}=(x,y,z)$，于是建立起坐标系统。显然，如果将向量$\bm{\alpha}$的起点移至原点，则它的终点在此坐标系中的坐标也就正是$(x,y,z)$，于是向量便与此坐标系下的点建立起一一映射关系，于是坐标原点就代表零向量，零向量的坐标是$(0,0,0)$，如果坐标系中的三个单位向量两两垂直，则称为\emph{直角坐标系}，直角坐标系的好处是使得距离与角这类几何量的公式简单化，例如在直角坐标系下，向量$\bm{\alpha}$的长度就是终点到原点的距离$|\bm{\alpha}| = \sqrt{x^2+y^2+z^2}$，今后如无特殊说明，均是在直角坐标系中进行讨论。

显然，若两个向量相等，则它俩坐标相等。

设$\bm{\alpha}=(x_1,y_1,z_1)$，$\bm{\beta}=(x_2,y_2,z_2)$，则
\begin{eqnarray*}
  \bm{\alpha} \pm \bm{\beta} & = & (x_1 \pm x_2)\bm{e}_1+(y_1 \pm y_2)\bm{e}_2 + (z_1 \pm z_2) \bm{e}_3 \\
  \lambda \bm{\alpha} & = & \lambda x_1 \bm{e}_1 + \lambda y_1 \bm{e}_2 + \lambda z_1 \bm{e}_3
\end{eqnarray*}
即是说
\begin{eqnarray*}
  \bm{\alpha} \pm \bm{\beta} & = & (x_1 \pm x_2, y_1 \pm y_2, z_1 \pm z_2) \\
  \lambda \bm{\alpha} & = & (\lambda x_1, \lambda y_1, \lambda z_1)
\end{eqnarray*}

于是向量$\bm{\alpha}=(x,y,z)$的相反向量是$-\bm{\alpha}=(-x,-y,-z)$.

再设$\bm{\alpha}=\vv{OA}=(x_1,y_1,z_1)$，$\bm{\beta}=\vv{OB}=(x_2,y_2,z_2)$，在$\triangle OAB$中应用余弦定理可以求出
\[ \cos{<\bm{\alpha},\bm{\beta}>} = \frac{x_1x_2+y_1y_2+z_1z_2}{\sqrt{x_1^2+y_1^2+z_1^2} \sqrt{x_2^2+y_2^2+z_2^2}} \]
这便是两个向量的夹角公式.

以上所有讨论只要去除竖坐标$z$，便是平面向量的对应表达，因此不再单独写出来了。

关于共线向量的结果则是
\begin{theorem}
  \label{theorem:collinear-vector-codrnation}
  向量$\bm{\alpha}=(x_1,y_1,z_1)$与向量$\bm{\beta}=(x_2,y_2,z_2)$共线的充分必要条件是$\dfrac{x_1}{x_2}=\dfrac{y_1}{y_2}=\dfrac{z_1}{z_2}$(分母为零时，约定分子也为零，此时也视为等式成立).
\end{theorem}

\begin{proof}[证明]
 若$\bm{\beta}$是零向量，结论显然成立，在$\bm{\beta}$非零时，根据\autoref{theorem:collinear-vector}，两个向量共线的充分必要条件是存在唯一实数$\lambda$，使$\bm{\alpha} = \lambda \bm{\beta}$，于是$x_1=\lambda x_2$,$y_1 = \lambda y_2$,$z_2=\lambda z_2$，所以定理中等式成立。反之，若有定理中等式成立，记比值为$\lambda$，则显然就有$\bm{\alpha}=\lambda \bm{\beta}$，因此充分性也成立。
\end{proof}

而对于向量共面，坐标形式的结论是
\begin{theorem}
  \label{theorem:coplanear-vector-cordination}
  空间中的三个向量$\bm{\alpha}=(x_1,y_1,z_1)$，$\bm{\beta}=(x_2,y_2,z_2)$，$\bm{\gamma}=(x_3,y_3,z_3)$共面的充分必要条件是
\[
  \begin{vmatrix}
    x_1 & x_2 & x_3\\
    y_1 & y_2 & y_3 \\
    z_1 & z_2 & z_3 
  \end{vmatrix}
  = 0
\]
\end{theorem}

\begin{proof}[证明]
假定$\bm{\alpha}$与$\bm{\beta}$不共线，则$\bm{\gamma}$能与前述两个向量共面的充分必要条件是存在唯一一对实数$\lambda$、$\mu$，使得$\gamma=\lambda \bm{\alpha} + \mu \bm{\beta}$，于是三元一次齐次方程组
\[
  \left\{
    \begin{array}{lll}
      \lambda x_1 + \mu x_2 - x_3 = 0  \\
      \lambda y_1 + \mu y_2 - y_3 = 0 \\
      \lambda z_1 + \mu z_2 - z_3 = 0
    \end{array}
    \right.
\]
有非零解$(\lambda, \mu, -1)$，因而
\[
  \begin{vmatrix}
    x_1 & x_2 & x_3\\
    y_1 & y_2 & y_3 \\
    z_1 & z_2 & z_3 
  \end{vmatrix}
  = 0
\]

反之，由定理中的行列式为零，知方程组
\[
  \left\{
    \begin{array}{lll}
      \lambda x_1 + \mu x_2 + \nu x_3 = 0  \\
      \lambda y_1 + \mu y_2 + \nu y_3 = 0 \\
      \lambda z_1 + \mu z_2 + \nu z_3 = 0
    \end{array}
    \right.
\]
有非零解$(\lambda, \mu, \nu)$，不妨设$\nu \neq 0$，于是$\bm{\gamma} = -\dfrac{\lambda}{\nu} \bm{\alpha} - \dfrac{\mu}{\nu} \bm{\beta}$，于是三个向量共面。
\end{proof}

由此可见，向量的共线、共面等特性与线性方程组理论有着千丝万缕的联系，这在线性代数中有更一般性的结论。

\subsection{内积与外积、混合积}
\label{sec:product-of-vector}

在物理学中，力所做的功是这样一个物理量，当物体在力$F$作用下(可能还有其它力)，沿着力的方向发生了一段位移$s$，则力对物体所做的功是$Fs$，这里的位移是沿力的方向所产生的位移，若是位移与力的方向有一定夹角，则将位移投影到力的方向上来，称为在力的方向上的分位移。由此抽象出两个向量的内积概念。

先来讨论下一个向量在另一个向量方向上的投影，设$\bm{a}$和$\bm{b}$是两个非零向量，将它们移动到共同起点$O$，并设终点分别是$A$和$B$，则过$A$向直线$OB$引垂线并设垂直是$A_1$，则向量$\vv{OA_1}$称为向量$\bm{a}$在向量$\bm{b}$的方向上的\emph{投影向量}，设向量$\bm{a}$与向量$\bm{b}$的夹角是$\theta$，那么显然$\vv{OA_1}=\dfrac{|\bm{a}|\cos{\theta}}{|\bm{b}|}\bm{b}$.

由此引入两个向量的内积概念.
\begin{definition}
  两个向量的 \emph{内积} 是两个向量$\bm{a}$与向量$\bm{b}$的一种二元运算，记为$\bm{a} \cdot \bm{b}$，或者简记为$\bm{a}\bm{b}$，其结果是一个实数，其值规定为：如果$\bm{a}$与$\bm{b}$共线，则其绝对值为两个向量之长度乘积，其符号则由两个向量的方向来决定，方向相同时为正，方向相反时为负，若两者中有零向量，则内积为零；若$\bm{a}$与$\bm{b}$不共线，则两者之内积为其中之一在另一向量上的投影向量与另一向量之内积。
\end{definition}

对于向量与自己的内积，借用乘方的符号写成$\bm{a}^2$，但是需要注意$\bm{a}^3$有所不同，它表示$(\bm{a} \cdot \bm{a})\bm{a}$，括号中的内积是一个实数，因而再将其与向量$\bm{a}$作数与向量的乘法，其结果是一个与$\bm{a}$同向的向量。

需要说明几点：1. 两个向量的内积不再是一个向量，而是一个实数，这与外积不同（稍后会讲到，两个向量的外积仍是一个向量）. 2. 在两个向量不共线时，使用哪一个向量的投影无关紧要，换句话说，向量的内积满足交换律，即
\begin{theorem}
两个向量$\bm{a}$和$\bm{b}$的内积是实数$|\bm{a}| \cdot |\bm{b}| \cdot \cos{\theta}$，其中$\theta$是两个向量的夹角，即$\bm{a} \cdot \bm{b} = |\bm{a}| \cdot |\bm{b}| \cdot \cos{\theta}$，从而两个向量互相垂直的充分必要条件是它们的内积为零。
\end{theorem}

\begin{proof}[证明]
  如果两个向量共线，则等式显然成立，在不共线的情形下，向量$\bm{a}$在向量$\bm{b}$上的投影是$\dfrac{|\bm{a}|\cos{\theta}}{|\bm{b}|} \bm{b}$，于是便得等式成立，由这等式便得向量垂直的充分必要条件。
\end{proof}

由此定理即知向量内积满足交换律，即
\[ \bm{a} \cdot \bm{b} = \bm{b} \cdot \bm{a} \]

从\autoref{fig:vector-inner-product-distribution-law}还可以验证，向量内积还满足对加法的分配律，即
\[ (\bm{a}+\bm{b}) \cdot \bm{c} = \bm{a} \cdot \bm{c} + \bm{b} \cdot \bm{c} \] 

\begin{figure}[htbp]
\centering
\includegraphics{content/plane-geometry/pic/vector-inner-product-distribution-law.pdf}
\caption{}
\label{fig:vector-inner-product-distribution-law}
\end{figure}

这是因为，向量$\vv{OA}$与向量$\bm{OB}$在向量$\vv{OC}$上的两个投影向量之和，正好便是$\vv{OD}$在向量$\vv{OC}$上的投影向量。

接下来讨论向量内积的坐标表示，设在空间直角坐标系中，两个向量的坐标为$\bm{a} = (x_1,y_1,z_1)$和$\bm{b}=(x_2,y_2,z_2)$，设沿$x$轴、$y$轴、$z$轴正方向的单位向量分别是$\bm{i}$、$\bm{j}$、$\bm{k}$，那么向量的坐标表达等价于
\begin{eqnarray*}
  \bm{a} & = & x_1 \bm{i} + y_1 \bm{j} + z_1 \bm{k} \\
  \bm{b} & = & x_2 \bm{i} + y_2 \bm{j} + z_2 \bm{k}
\end{eqnarray*}

还容易知道
\[ (\lambda \bm{a}) \cdot \bm{b} = \lambda (\bm{a} \cdot \bm{b}) \]

利用向量的交换律和对加法的结合律，以及
\[ \bm{i} \cdot \bm{j} = \bm{j} \cdot \bm{k} = \bm{k} \cdot \bm{i} = 0, \bm{i}^2 = \bm{j}^2 = \bm{k}^2=1 \]
便得
\begin{eqnarray*}
  \bm{a} \cdot \bm{b} & = & (x_1 \bm{i} + y_1 \bm{j} + z_1 \bm{k}) \cdot (x_2 \bm{i} + y_2 \bm{j} + z_2 \bm{k}) \\
                      & = & x_1x_2 \bm{i}^2 + y_1y_2 \bm{j}^2 + z_1z_2 \bm{k}^2 + (x_1y_2+x_2y_1)(\bm{i} \cdot \bm{j}) + (y_1z_2+z_1y_2)(\bm{j} \cdot \bm{k}) + (z_1x_2 + x_1z_2)(\bm{k} \cdot \bm{i}) \\
  & = & x_1x_2 + y_1y_2+z_1z_2
\end{eqnarray*}
这就是向量内积的坐标表达式，对于平面向量，也有完全类似的结论，只是没有$z$坐标，由此可知

\begin{theorem}
  空间向量$\bm{a}=(x_1,y_1,z_1)$与$\bm{b} = (x_2,y_2,z_2)$互相垂直的充分必要条件是$x_1x_2+y_1y_2+z_1z_2=0$.
\end{theorem}


\begin{example}
  在\autoref{example:point-P-and-triangle-ABC}中，已经知道对于三角形$ABC$平面内的任一点$P$，有向量方程
  \[ \alpha \vv{PA} + \beta \vv{PB} +\gamma \vv{PC} = \bm{0} \]
  在这个例子中，我们将利用向量的外积来具体的找出系数$\alpha$、$\beta$、$\gamma$的具体表达式。

  首先将上面的向量方程的两端分别与$\vv{PA}$、$\vv{PB}$、$\vv{PC}$作外积，得到向量方程组
  \begin{eqnarray*}
    \beta (\vv{PB}\times\vv{PA}) + \gamma (\vv{PC}\times\vv{PA}) & = & \bm{0} \\
    \alpha (\vv{PA}\times\vv{PB}) + \gamma (\vv{PC}\times\vv{PB}) & = & \bm{0} \\
    \alpha (\vv{PA}\times\vv{PC}) + \beta (\vv{PB}\times\vv{PC}) & = & \bm{0}
  \end{eqnarray*}
  显然$\vv{PA}\times\vv{PB}$、$\vv{PB}\times\vv{PC}$、$\vv{PC}\times\vv{PA}$这三个向量是共线的，因为都在过点$P$且与平面$ABC$垂直的直线上，令
  \[ \vv{PU}=\vv{PA}\times\vv{PB}, \  \vv{PV}=\vv{PB}\times\vv{PC}, \  \vv{PW}=\vv{PC}\times\vv{PA} \]
  则上述向量方程组成为
  \begin{eqnarray*}
    -\beta \vv{PU} + \gamma \vv{PW} & = & \bm{0} \\
    \alpha \vv{PU} - \gamma \vv{PV} & = & \bm{0} \\
    - \alpha \vv{PW} + \beta \vv{PV} & = & \bm{0}
  \end{eqnarray*}
  因为向量$\vv{PU}$、$\vv{PV}$、$\vv{PW}$共线，所以上述向量方程组可以转化为关于实数的方程组，只要取$\vv{PU}$方向的单位向量为$\bm{k}$，记
  \[ \vv{PU}=u\bm{k}, \  \vv{PV} = v\bm{k}, \  \vv{PW}=w\bm{k} \]
  显然$|u|=|\v{PU}|=|\vv{PA}\times\vv{PB}|$，$|v|=|\vv{PV}|=|\vv{PB}\times\vv{PC}|$，$|w|=|\vv{PW}|=|\vv{PC}\times\vv{PA}|$，并且$u$、$v$、$w$的符号则视这三个外积向量的方向而定，取定一个方向后，凡与之同向的皆为正，否则为负，于是有关于$u$、$v$、$w$的三元一次方程组
  \begin{eqnarray*}
    -\beta u + \gamma w & = & 0 \\
    \alpha u - \gamma v & = & 0 \\
    - \alpha w + \beta v & = & 0
  \end{eqnarray*}
  这是一个关于$\alpha$、$\beta$、$\gamma$的三元一次齐次方程组，只要解出它便可以得到$\alpha$、$\beta$、$\gamma$的表达，但是这个方程组有点特别，它的系数矩阵的行列式为零
  \[
    \begin{vmatrix}
      -\beta & 0 & \gamma \\
      \alpha & -\gamma & 0 \\
      0 & \beta & -\alpha
    \end{vmatrix}
    = 0
  \]
  所以它有非零解，并且如果$(u_0,v_0,z_0)$是它的一个解，则对于任意实数$k$，$(ku_0,kv_0,kz_0)$也是它的解，显然上述方程组有一个特解$(\alpha,\beta,\gamma)=(v,w,u)$，于是代回到向量方程便得
  \[ v \vv{PA} + w \vv{PB} + u \vv{PC} = \bm{0} \]
  其中$\vv{PA}\times\vv{PB}=u\bm{k}$, $\vv{PB}\times\vv{PC}=v\bm{k}$, $\vv{PC}\times\vv{PA}=w\bm{k}$，这里$\bm{k}$是平面$ABC$的单位法向量。这就是最终的结果。

  注意到外积$\vv{PA}\times\vv{PB}$与三角形$PAB$面积的关系，这结果还可以写成
  \[ S_{\triangle PBC} \vv{PA} + S_{\triangle PCA} \vv{PB} + S_{\triangle PAB} \vv{PC} = \bm{0} \]
  但式中的$S$均是有向面积，即其绝对值是对应三角形的面积，但其符号由外积向量的方向决定，特别情况是，当点$P$位于三角形$ABC$内时，这三个外积向量同向，于是这里的三个面积就都是正的了。
\end{example}



\subsection{定比分点}
\label{sec:definition-proportion}

设有一直线$AB$，点$P$是直线上任一点，当点$P$不与$A$、$B$重合时就存在唯一实数$\lambda$使得$\vv{AP}=\lambda\vv{PB}$，若设$O$是平面上任一点，那么容易推得
\begin{equation}
  \label{eq:vector-definition-proportion}
  \vv{OP} = \frac{1}{1+\lambda} \vv{OA} + \frac{\lambda}{1+\lambda} \vv{OB}
\end{equation}
当点$P$位于线段$AP$上时$\lambda>0$，位于$AB$延长线上$B$一侧时$\lambda<-1$，位于$A$一侧时$-1<\lambda<0$，上式称为向量的 \emph{定比分点公式}。

\begin{figure}[htbp]
\centering
\includegraphics{content/plane-geometry/pic/vector-definition-proportion.pdf}
\caption{}
\label{fig:vector-definition-proportion}
\end{figure}

注意到上式中的两个系数和为1，还有另外一种表示，如果记$t= \lambda / (1+\lambda)$，那么有
\begin{equation}
  \label{eq:vector-definition-proportion-t}
  \vv{OP} = (1-t) \vv{OA} + t \vv{OB}
\end{equation}
式中$t$的意义是$\vv{AP} = t \vv{AB}$，而且这式子对于点$P$与线段$AB$端点重合时也有效，因而它能将直线上的点与实数建立起一一对应。

利用复数则可以去掉点$O$的细枝末节，以各点的字母代指该点在复平面上所代表的复数，就有
\begin{equation}
  \label{eq:complex-definition-proportion}
  P = (1-t)A + tB
\end{equation}

\begin{example}
  \label{example:point-P-and-triangle-ABC}
  对于一个三角形$ABC$及其所在平面内的任一点$P$，显然向量$\vv{PA}$、$\vv{PB}$、$\vv{PC}$不可能全部共线，假定$PB$与$PC$不共线，那么存在唯一分解式$\vv{PA}=p\vv{PB}+q\vv{PC}$，或者写成
  \[ \vv{PA}-p\vv{PB}-q\vv{PC}=\bm{0} \]
  反之，若存在不全为零的三个实数$\alpha$、$\beta$、$\gamma$使得
  \[ \alpha \vv{PA} + \beta \vv{PB} + \gamma \vv{PC} = \bm{0} \]
  因为三个系数不全为零，假定$\alpha$不为零，于是$\vv{PA}$便可以写成
  \[ \vv{PA} = -\frac{\beta}{\alpha} \vv{PB} - \frac{\gamma}{\alpha} \vv{PC} \]
  因此，$\vv{PA}$与$\vv{PB}$和$\vv{PC}$共面，因此得到结论：
  \begin{theorem}
    点$P$位于三角形$ABC$所在平面内的充分必要条件是：存在不全为零的三个实数$\alpha$、$\beta$、$\gamma$使得下式成立，
    \[ \alpha \vv{PA} + \beta \vv{PB} + \gamma \vv{PC} = \bm{0} \]
    并且当点$P$在此平面内时，这个方程中的三个系数是唯一的。
  \end{theorem}
这里需要提的是，如果三个系数都为非负并且$\alpha+\beta+\gamma = 1$，那么点$P$位于三角形的内部或者三条边上，其中位于内部时三个系数都为正而和为1，位于三条边上时有一个系数为零而另外两个相加为1，当有两个系数为零另外一个为1时正好是顶点之一。

  只对三个系数都为正的情形加以说明，在这时有
  \begin{eqnarray*}
    \vv{PA} & = & - \left( \frac{\beta}{\alpha}\vv{PB} + \frac{\gamma}{\alpha} \vv{PC} \right) \\
    & = & -\frac{\beta+\gamma}{\alpha} \left( \frac{\beta}{\beta+\gamma} \vv{PB} + \frac{\gamma}{\beta+\gamma} \vv{PC} \right)
  \end{eqnarray*}
  括号中的部分两个系数和为1，而且都是正数，因而在线段$BC$上存在唯一的一个点$D$，使得括号中的部分正是$\vv{PD}$，于是有$\vv{PA}=-\dfrac{\beta+\gamma}{\alpha} \vv{PD}$，因此点$P$在线段$AD$上，因而在三角形内。

  还可以从另一个可能更加直观的观点来看待这一点，把式中的向量全部改写为以$A$为起点的向量，即$\alpha (-\vv{AP})+\beta (\vv{AB}-\vv{AP})+\gamma (\vv{AC}-\vv{AP})=\bm{0}$，即
  \[ \vv{AP} = \beta \vv{AB} + \gamma \vv{AC} \]
  易见右端两个系数都为正，但其和小于1，于是将它再改写为
  \[ \vv{AP} = \frac{\beta}{\beta+\gamma} \left( (\beta+\gamma)\vv{AB} \right) + \frac{\gamma}{\beta+\gamma} \left( (\beta+\gamma) \vv{AC} \right) \]
  在边$AB$和$AC$上分别取点$E$和$F$，使得$\vv{AE} = (\beta+\gamma)\vv{AB}$以及$\vv{AF}=(\beta+\gamma)\vv{AF}$，则有
  \[ \vv{AP}=\frac{\beta}{\beta+\gamma} \vv{AE} + \frac{\gamma}{\beta+\gamma} \vv{AF} \]
  因而点$P$在线段$EF$上，而显然$EF$与$BC$边是平行的，并且除去端点以外都在三角形内。

  这结论还可以推广到任意凸多边形的情况，设有凸多边形$A_1A_2\cdots A_n$，由向量$\vv{OP}=\sum_{i=1}^n\alpha_i\vv{OA_i}$其中$\alpha_i\geqslant 0$并且$\sum_{i=1}^n\alpha_i=1$所决定的点$P$位于凸多边形的内部或者边界上，如果有某个$\alpha_i$为1而其余的$\alpha_i$全为零，则它是凸多边形的顶点，如果有两个相邻的$\alpha_i$之和为1而其余$\alpha_i$全为零，则它在凸多边形的边上，其余情况下这点位于凸多边形的内部。
\end{example}

\begin{example}[三角形的重心]
  \label{example:barycentric-of-triangle-vector}
  作为向量方法的一个展示，我们来证明：三角形的三条中线交于一点，这点称为三角形的重心。
  
\begin{figure}[htbp]
\centering
\includegraphics{content/plane-geometry/pic/barycentric-of-triangle-vector.pdf}
\caption{}
\label{fig:barycentric-of-triangle-vector}
\end{figure}

  先由$AB$边上的中线$CE$和$AC$边上的中线$BF$相交于点$G$，只要证明$BC$边上的中线$AD$通过此点就可以了，这只要证明$\vv{AG}$与$\vv{AD}$共线就行了。

  因为点$G$同时位于$BF$和$CE$上，所以存在两个实数$t$和$s$，使得
  \begin{eqnarray*}
    \vv{AG} = (1-t) \vv{AB} + t \vv{AF} = (1-t) \vv{AB} + \frac{1}{2} t \vv{AC} \\
    \vv{AG} = s \vv{AE} + (1-s) \vv{AC} = \frac{1}{2} s \vv{AB} + (1-s) \vv{AC}
  \end{eqnarray*}
  于是得方程组
  \begin{eqnarray*}
    1-t = \frac{1}{2} s \\
    1-s = \frac{1}{2} t
  \end{eqnarray*}
  解得$t=s=2/3$，所以$AG=\frac{1}{3}(\vv{AB}+\vv{AC})$，而$\vv{AD}=\frac{1}{2}(\vv{AB}+\vv{AC})$，所以$\vv{AG}=\frac{2}{3}\vv{AD}$，因而共线，得证，还顺便得到结论：重心把每一条中线都分为$2:1$的两段。

  由向量式$AG=\frac{1}{3}(\vv{AB}+\vv{AC})$中的向量都按定点$O$来表出，就得$\vv{OG}=\frac{1}{3}(\vv{OA}+\vv{OB}+\vv{OC})$，这就是重心的向量表达，由此还得重心的坐标:
  \begin{equation*}
    \left( \frac{x_A+x_B+x_C}{3}, \frac{y_A+y_B+y_C}{3} \right)
  \end{equation*}
\end{example}

\begin{example}[贝塞尔(Bezier)曲线]
  贝塞尔曲线的初衷是为了将一些离散的点用光滑的曲线连接起来，它的基本原理很简单，如图\ref{fig:bezier-curve}，$Z_0$和$Z_1$是两个点，点$C$是不与$Z_0$和$Z_1$共线的一个指定点（称为控制点），对于一个实数$\lambda>0$，可以在线段$Z_0C$和$CZ_1$上分别定出点$A$和$B$，使得$Z_0A:AC = \lambda$和$CB:BZ_1=\lambda$，然后在线段$AB$上再定出一个点$Z$使得$AZ:ZB=\lambda$，当$\lambda$在正实数范围内变动时，点$Z$的轨迹就是一条曲线，这就是贝塞尔曲线。
 
\begin{figure}[htbp]
\centering
\includegraphics{content/plane-geometry/pic/bezier-curve.pdf}
\caption{贝塞尔曲线(一个控制点的情形)}
\label{fig:bezier-curve}
\end{figure}

由这原理知贝塞尔曲线是以$\lambda$为参数的曲线，我们来推导它的参数式，记$t = \lambda / (1+\lambda)$，并以各点的字母也同时代指该点所对应的复数，就有
\begin{eqnarray*}
  Z & = & (1-t) A + t B \\
    & = & (1-t)[(1-t)Z_0+tC] + t [(1-t)C+tB] \\
  & = & (1-t)^2 Z_0 + 2t(1-t)C +t^2 Z_1
\end{eqnarray*}
这是只有一个控制点的情况，如果有两个控制点$C_1$和$C_2$，先在线段$Z_0C_1$、$C_1C_2$、$C_2Z_1$上各取点$A_1$、$A_2$、$A_3$使得$\frac{Z_0A_1}{A_1C_1}=\frac{C_1A_2}{A_2C_2}=\frac{C_2A_3}{A_3Z_1}=\lambda$，然后再在线段$A_1A_2$和$A_2A_3$上分别取点$B_1$和$B_2$使得$\frac{A_1B_1}{B_1A_2}=\frac{A_2B_2}{B_2A_3}=\lambda$，最后在线段$B_1B_2$上取点$Z$使得$\frac{B_1Z}{ZB_2}=\lambda$，点$Z$随着$\lambda$变动的轨迹就是由控制点$C_1$和$C_2$所确定的贝塞尔曲线，如图\ref{fig:bezier-curve-two-control-pt}所示。

\begin{figure}[htbp]
\centering
\includegraphics{content/plane-geometry/pic/bezier-curve-two-control-pt.pdf}
\caption{贝塞尔曲线(两个控制点的情形)}
\label{fig:bezier-curve-two-control-pt}
\end{figure}

这时的贝塞尔曲线的参数方程是
\begin{equation*}
  Z = (1-t)^3Z_0 + 3(1-t)^2tC_1 + 3t(1-t)^2C_2 + t^3Z_1
\end{equation*}

其中$t=\lambda/(1+\lambda)$，类似的可以得到由端点$Z_0$、$Z_1$和$n-1$个控制点$C_k(k=1,2,\ldots,n-1)$所决定的贝塞尔曲线，它的参数方程是
\begin{equation*}
  Z = \sum_{i=0}^nC_n^i(1-t)^{n-i}t^iC_i 
\end{equation*}
其中$C_0$和$C_n$分别代指端点$Z_0$和$Z_1$，容易发现各个控制点的系数就是$((1-t)+t)^n$按照二项式定理展开后的各项。

现在来证明贝塞尔曲线的一个性质，如图，三角形$ABC$中，以$B$、$C$为端点以$A$为控制点的贝塞尔曲线段，将全位于由$BC$边上的中位线$EF$所分割出来的梯形$EBCF$中，并且中位线$EF$的中点是这中位线与贝塞尔曲线的唯一公共点。

\begin{figure}[htbp]
\centering
\includegraphics{content/plane-geometry/pic/bezier-curve-contaied-by-median-trapezoid.pdf}
\caption{}
\label{fig:bezier-curve-contaied-by-median-trapezoid}
\end{figure}

证明很简单，只要将参数方程$Z = (1-t)^2B + 2t(1-t)A + t^2C$改写为以$A$为起点的向量形式
\begin{equation*}
  \vv{AZ} = (1-t)^2\vv{AB} + t^2 \vv{AC}
\end{equation*}
根据均值不等式知系数和大于等于$1/2$，并且两个系数都为非负，所以这曲线全被包含于梯形$EBCF$中，并且当$t=1/2$时系数和刚好等于$1/2$，所以中位线的中点是这曲线与中位线的唯一公共点。

实际上，图\ref{fig:bezier-curve}中的线段$AB$都是贝塞尔曲线的切线，刚才所证明的性质不过是$t=1/2$的特殊情况罢了。
\end{example}

%%% Local Variables:
%%% TeX-master: "../../book"
%%% End:
